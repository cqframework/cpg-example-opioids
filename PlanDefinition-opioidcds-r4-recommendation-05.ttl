@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sct: <http://snomed.info/id/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://cqframework.org/cpg-example-opioids/PlanDefinition/opioidcds-r4-recommendation-05> a fhir:PlanDefinition ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "opioidcds-r4-recommendation-05"] ; # 
  fhir:meta [
     fhir:profile ( [
       fhir:v "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-computableplandefinition"^^xsd:anyURI ;
       fhir:link <http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-computableplandefinition>
     ] )
  ] ; # 
  fhir:text [
     fhir:status [ fhir:v "generated" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p class=\"res-header-id\"><b>Generated Narrative: PlanDefinition opioidcds-r4-recommendation-05</b></p><a name=\"opioidcds-r4-recommendation-05\"> </a><a name=\"hcopioidcds-r4-recommendation-05\"> </a><a name=\"opioidcds-r4-recommendation-05-en-US\"> </a><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\"/><p style=\"margin-bottom: 0px\">Profile: <a href=\"https://build.fhir.org/ig/HL7/cqf-recommendations/StructureDefinition-cpg-computableplandefinition.html\">CPG Computable Plan Definition</a></p></div><p><b>url</b>: <a href=\"PlanDefinition-opioidcds-r4-recommendation-05.html\">PlanDefinition CDC Opioid Prescribing Guideline Recommendation #5</a></p><p><b>version</b>: 1.0.0</p><p><b>name</b>: OpioidCDS_R4_Recommendation_05</p><p><b>title</b>: CDC Opioid Prescribing Guideline Recommendation #5</p><p><b>type</b>: <span title=\"Codes:{http://terminology.hl7.org/CodeSystem/plan-definition-type eca-rule}\">ECA Rule</span></p><p><b>status</b>: Draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 2025-03-04 15:46:21+0000</p><p><b>publisher</b>: HL7 International - Clinical Decision Support WG</p><p><b>contact</b>: HL7 International - Clinical Decision Support WG: <a href=\"http://www.hl7.org/Special/committees/dss/index.cfm\">http://www.hl7.org/Special/committees/dss/index.cfm</a></p><p><b>description</b>: </p><div><p>When opioids are started, providers should prescribe the lowest effective dosage.</p>\n</div><h3>UseContexts</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Code</b></td><td><b>Value[x]</b></td></tr><tr><td style=\"display: none\">*</td><td><a href=\"http://terminology.hl7.org/6.1.0/CodeSystem-usage-context-type.html#usage-context-type-focus\">UsageContextType focus</a>: Clinical Focus</td><td><span title=\"Codes:{http://snomed.info/sct 182888003}\">Medication requested (situation)</span></td></tr><tr><td style=\"display: none\">*</td><td><a href=\"http://terminology.hl7.org/6.1.0/CodeSystem-usage-context-type.html#usage-context-type-focus\">UsageContextType focus</a>: Clinical Focus</td><td><span title=\"Codes:{http://snomed.info/sct 82423001}\">Chronic pain (finding)</span></td></tr></table><p><b>jurisdiction</b>: <span title=\"Codes:{http://unstats.un.org/unsd/methods/m49/m49.htm 001}\">World</span></p><p><b>purpose</b>: </p><div><p>CDC’s Guideline for Prescribing Opioids for Chronic Pain is intended to improve communication between providers and patients about the risks and benefits of opioid therapy for chronic pain, improve the safety and effectiveness of pain treatment, and reduce the risks associated with long-term opioid therapy, including opioid use disorder and overdose. The Guideline is not intended for patients who are in active cancer treatment, palliative care, or end-of-life care.</p>\n</div><p><b>usage</b>: Providers should use caution when prescribing opioids at any dosage, should carefully reassess evidence of individual benefits and risks when considering increasing dosage to ≥50 morphine milligram equivalents (MME)/day, and should avoid increasing dosage to ≥90 MME/day or carefully justify a decision to titrate dosage to &gt;90 MME/day</p><p><b>copyright</b>: </p><div><p>CDC 2016+</p>\n</div><p><b>topic</b>: <span title=\"Codes:\">Opioid Prescribing</span></p><p><b>author</b>: Kensaku Kawamoto, MD, PhD, MHS: , Bryn Rhodes: , Floyd Eisenberg, MD, MPH: , Robert McClure, MD, MPH: </p><blockquote><p><b>relatedArtifact</b></p><p><b>type</b>: Documentation</p><p><b>display</b>: MME Conversion Tables</p><p><b>url</b>: <a href=\"https://www.cdc.gov/drugoverdose/pdf/calculating_total_daily_dose-a.pdf\">https://www.cdc.gov/drugoverdose/pdf/calculating_total_daily_dose-a.pdf</a></p><h3>Documents</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Url</b></td></tr><tr><td style=\"display: none\">*</td><td><a href=\"https://www.cdc.gov/drugoverdose/pdf/calculating_total_daily_dose-a.pdf\">https://www.cdc.gov/drugoverdose/pdf/calculating_total_daily_dose-a.pdf</a></td></tr></table></blockquote><p><b>library</b>: <a href=\"Library-OpioidCDSR4Recommendation05.html\">Opioid CDS R4 Logic for recommendation #5</a></p><blockquote><p><b>action</b></p><p><b>title</b>: High risk for opioid overdose.</p><p><b>description</b>: Total morphine milligram equivalent (MME) exceeds recommended amount. Taper to less than 50.</p><blockquote><p><b>documentation</b></p><p><b>type</b>: Documentation</p><p><b>display</b>: CDC guideline for prescribing opioids for chronic pain</p><p><b>url</b>: <a href=\"https://www.cdc.gov/mmwr/volumes/65/rr/rr6501e1.htm?CDC_AA_refVal=https%3A%2F%2Fwww.cdc.gov%2Fmmwr%2Fvolumes%2F65%2Frr%2Frr6501e1er.htm\">https://www.cdc.gov/mmwr/volumes/65/rr/rr6501e1.htm?CDC_AA_refVal=https%3A%2F%2Fwww.cdc.gov%2Fmmwr%2Fvolumes%2F65%2Frr%2Frr6501e1er.htm</a></p><h3>Documents</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Extension</b></td><td><b>Url</b></td></tr><tr><td style=\"display: none\">*</td><td>, </td><td><a href=\"https://www.cdc.gov/mmwr/volumes/65/rr/rr6501e1.htm?CDC_AA_refVal=https%3A%2F%2Fwww.cdc.gov%2Fmmwr%2Fvolumes%2F65%2Frr%2Frr6501e1er.htm\">https://www.cdc.gov/mmwr/volumes/65/rr/rr6501e1.htm?CDC_AA_refVal=https%3A%2F%2Fwww.cdc.gov%2Fmmwr%2Fvolumes%2F65%2Frr%2Frr6501e1er.htm</a></td></tr></table></blockquote><blockquote><p><b>documentation</b></p><p><b>type</b>: Documentation</p></blockquote><h3>Triggers</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Type</b></td><td><b>Name</b></td></tr><tr><td style=\"display: none\">*</td><td>Named Event</td><td>medication-prescribe</td></tr></table><blockquote><p><b>condition</b></p><p><b>kind</b>: Applicability</p><h3>Expressions</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Description</b></td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td style=\"display: none\">*</td><td>Is total MME &gt;= 50?</td><td>CQL</td><td>Inclusion Criteria</td></tr></table></blockquote><p><b>groupingBehavior</b>: Visual Group</p><p><b>selectionBehavior</b>: Exactly One</p><blockquote><p><b>dynamicValue</b></p><p><b>path</b>: action.title</p><h3>Expressions</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td style=\"display: none\">*</td><td>CQL</td><td>Get Summary</td></tr></table></blockquote><blockquote><p><b>dynamicValue</b></p><p><b>path</b>: action.description</p><h3>Expressions</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td style=\"display: none\">*</td><td>CQL</td><td>Get Detail</td></tr></table></blockquote><blockquote><p><b>dynamicValue</b></p><p><b>path</b>: activity.extension</p><h3>Expressions</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td style=\"display: none\">*</td><td>CQL</td><td>Get Indicator</td></tr></table></blockquote><h3>Actions</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Description</b></td></tr><tr><td style=\"display: none\">*</td><td>Will reduce dosage</td></tr><tr><td style=\"display: none\">*</td><td>Risk of overdose carefully considered and outweighed by benefit; snooze 3 mo</td></tr><tr><td style=\"display: none\">*</td><td>Acute pain; snooze 1 mo</td></tr><tr><td style=\"display: none\">*</td><td>N/A - see comment (will be reviewed by medical director); snooze 3 mo</td></tr></table></blockquote></div>"^^rdf:XMLLiteral
  ] ; # 
  fhir:url [ fhir:v "http://cqframework.org/cpg-example-opioids/PlanDefinition/opioidcds-r4-recommendation-05"^^xsd:anyURI] ; # 
  fhir:version [ fhir:v "1.0.0"] ; # 
  fhir:name [ fhir:v "OpioidCDS_R4_Recommendation_05"] ; # 
  fhir:title [ fhir:v "CDC Opioid Prescribing Guideline Recommendation #5"] ; # 
  fhir:type [
     fhir:coding ( [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/plan-definition-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "eca-rule" ] ;
       fhir:display [ fhir:v "ECA Rule" ]
     ] )
  ] ; # 
  fhir:status [ fhir:v "draft"] ; # 
  fhir:experimental [ fhir:v true] ; # 
  fhir:date [ fhir:v "2025-03-04T15:46:21+00:00"^^xsd:dateTime] ; # 
  fhir:publisher [ fhir:v "HL7 International - Clinical Decision Support WG"] ; # 
  fhir:contact ( [
     fhir:name [ fhir:v "HL7 International - Clinical Decision Support WG" ] ;
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "http://www.hl7.org/Special/committees/dss/index.cfm" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "When opioids are started, providers should prescribe the lowest effective dosage."] ; # 
  fhir:useContext ( [
     fhir:code [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/usage-context-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "focus" ] ;
       fhir:display [ fhir:v "Clinical Focus" ]
     ] ;
     fhir:value [
       a fhir:CodeableConcept ;
       fhir:coding ( [
         a sct:182888003 ;
         fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "182888003" ] ;
         fhir:display [ fhir:v "Medication requested (situation)" ]
       ] )
     ]
  ] [
     fhir:code [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/usage-context-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "focus" ] ;
       fhir:display [ fhir:v "Clinical Focus" ]
     ] ;
     fhir:value [
       a fhir:CodeableConcept ;
       fhir:coding ( [
         a sct:82423001 ;
         fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "82423001" ] ;
         fhir:display [ fhir:v "Chronic pain (finding)" ]
       ] )
     ]
  ] ) ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "001" ] ;
       fhir:display [ fhir:v "World" ]
     ] )
  ] ) ; # 
  fhir:purpose [ fhir:v "CDC’s Guideline for Prescribing Opioids for Chronic Pain is intended to improve communication between providers and patients about the risks and benefits of opioid therapy for chronic pain, improve the safety and effectiveness of pain treatment, and reduce the risks associated with long-term opioid therapy, including opioid use disorder and overdose. The Guideline is not intended for patients who are in active cancer treatment, palliative care, or end-of-life care."] ; # 
  fhir:usage [ fhir:v "Providers should use caution when prescribing opioids at any dosage, should carefully reassess evidence of individual benefits and risks when considering increasing dosage to ≥50 morphine milligram equivalents (MME)/day, and should avoid increasing dosage to ≥90 MME/day or carefully justify a decision to titrate dosage to >90 MME/day"] ; # 
  fhir:copyright [ fhir:v "CDC 2016+"] ; # 
  fhir:topic ( [
     fhir:text [ fhir:v "Opioid Prescribing" ]
  ] ) ; # 
  fhir:author ( [
     fhir:name [ fhir:v "Kensaku Kawamoto, MD, PhD, MHS" ]
  ] [
     fhir:name [ fhir:v "Bryn Rhodes" ]
  ] [
     fhir:name [ fhir:v "Floyd Eisenberg, MD, MPH" ]
  ] [
     fhir:name [ fhir:v "Robert McClure, MD, MPH" ]
  ] ) ; # 
  fhir:relatedArtifact ( [
     fhir:type [ fhir:v "documentation" ] ;
     fhir:display [ fhir:v "MME Conversion Tables" ] ;
     fhir:url [ fhir:v "https://www.cdc.gov/drugoverdose/pdf/calculating_total_daily_dose-a.pdf"^^xsd:anyURI ] ;
     fhir:document [
       fhir:url [ fhir:v "https://www.cdc.gov/drugoverdose/pdf/calculating_total_daily_dose-a.pdf"^^xsd:anyURI ]
     ]
  ] ) ; # 
  fhir:library ( [
     fhir:v "http://cqframework.org/cpg-example-opioids/Library/OpioidCDSR4Recommendation05"^^xsd:anyURI ;
     fhir:link <http://cqframework.org/cpg-example-opioids/Library/OpioidCDSR4Recommendation05>
  ] ) ; # 
  fhir:action ( [
     fhir:title [ fhir:v "High risk for opioid overdose." ] ;
     fhir:description [ fhir:v "Total morphine milligram equivalent (MME) exceeds recommended amount. Taper to less than 50." ] ;
     fhir:documentation ( [
       fhir:type [ fhir:v "documentation" ] ;
       fhir:display [ fhir:v "CDC guideline for prescribing opioids for chronic pain" ] ;
       fhir:url [ fhir:v "https://www.cdc.gov/mmwr/volumes/65/rr/rr6501e1.htm?CDC_AA_refVal=https%3A%2F%2Fwww.cdc.gov%2Fmmwr%2Fvolumes%2F65%2Frr%2Frr6501e1er.htm"^^xsd:anyURI ] ;
       fhir:document [
         fhir:extension ( [
           fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-strengthOfRecommendation"^^xsd:anyURI ] ;
           fhir:value [
             a fhir:CodeableConcept ;
             fhir:coding ( [
               fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/recommendation-strength"^^xsd:anyURI ] ;
               fhir:code [ fhir:v "strong" ] ;
               fhir:display [ fhir:v "Strong" ]
             ] )
           ]
         ] [
           fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-qualityOfEvidence"^^xsd:anyURI ] ;
           fhir:value [
             a fhir:CodeableConcept ;
             fhir:coding ( [
               fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/evidence-quality"^^xsd:anyURI ] ;
               fhir:code [ fhir:v "low" ] ;
               fhir:display [ fhir:v "Low quality" ]
             ] )
           ]
         ] ) ;
         fhir:url [ fhir:v "https://www.cdc.gov/mmwr/volumes/65/rr/rr6501e1.htm?CDC_AA_refVal=https%3A%2F%2Fwww.cdc.gov%2Fmmwr%2Fvolumes%2F65%2Frr%2Frr6501e1er.htm"^^xsd:anyURI ]
       ]
     ] [
       fhir:type [ fhir:v "documentation" ]
     ] ) ;
     fhir:trigger ( [
       fhir:type [ fhir:v "named-event" ] ;
       fhir:name [ fhir:v "medication-prescribe" ]
     ] ) ;
     fhir:condition ( [
       fhir:kind [ fhir:v "applicability" ] ;
       fhir:expression [
         fhir:description [ fhir:v "Is total MME >= 50?" ] ;
         fhir:language [ fhir:v "text/cql" ] ;
         fhir:expression [ fhir:v "Inclusion Criteria" ]
       ]
     ] ) ;
     fhir:groupingBehavior [ fhir:v "visual-group" ] ;
     fhir:selectionBehavior [ fhir:v "exactly-one" ] ;
     fhir:dynamicValue ( [
       fhir:path [ fhir:v "action.title" ] ;
       fhir:expression [
         fhir:language [ fhir:v "text/cql" ] ;
         fhir:expression [ fhir:v "Get Summary" ]
       ]
     ] [
       fhir:path [ fhir:v "action.description" ] ;
       fhir:expression [
         fhir:language [ fhir:v "text/cql" ] ;
         fhir:expression [ fhir:v "Get Detail" ]
       ]
     ] [
       fhir:path [ fhir:v "activity.extension" ] ;
       fhir:expression [
         fhir:language [ fhir:v "text/cql" ] ;
         fhir:expression [ fhir:v "Get Indicator" ]
       ]
     ] ) ;
     fhir:action ( [
       fhir:description [ fhir:v "Will reduce dosage" ]
     ] [
       fhir:description [ fhir:v "Risk of overdose carefully considered and outweighed by benefit; snooze 3 mo" ]
     ] [
       fhir:description [ fhir:v "Acute pain; snooze 1 mo" ]
     ] [
       fhir:description [ fhir:v "N/A - see comment (will be reviewed by medical director); snooze 3 mo" ]
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

